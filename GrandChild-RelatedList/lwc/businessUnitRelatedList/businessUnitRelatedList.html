<template>
  <template if:true={records.length}>
    <div class="slds-card slds-card_boundary slds-grid slds-grid_vertical forceListViewManager">
      <div class="slds-page-header forceListViewManagerHeader">
        <div class="slds-page-header__row">
          <div class="slds-page-header__col-title">
            <div class="slds-media">
              <lightning-icon icon-name={section.Icon__c} size="small" class="slds-m-right_small"></lightning-icon>
              <div class="slds-media__body">
                <lightning-breadcrumbs>
                  <lightning-breadcrumb
                    label={parentObjectName}
                    href={parentObjectUrl}
                    class="slds-line-height_reset"
                  ></lightning-breadcrumb>
                  <lightning-breadcrumb
                    label={parentRecordName}
                    href={parentRecordUrl}
                    class="slds-line-height_reset"
                  ></lightning-breadcrumb>
                </lightning-breadcrumbs>
                <h1 class="slds-page-header__title slds-truncate">{section.Section_Name__c}</h1>
              </div>
            </div>
          </div>
        </div>
        <div class="slds-page-header__row">
          <div class="slds-page-header__col-meta">
            <p class="slds-text-body--small slds-m-top_medium">
              <span>{recordCountLabel}</span>
              <span> â€¢ </span>
              <span>Updated </span>
              <lightning-relative-date-time value={lastUpdated}></lightning-relative-date-time>
            </p>
          </div>
        </div>
      </div>
      <div class="forceListViewManagerGrid slds-theme_shade">
        <lightning-datatable key-field="Id" hide-checkbox-column show-row-number-column data={records} columns={fields}>
        </lightning-datatable>
      </div>
    </div>
  </template>
  <template if:false={records.length}>
    <lightning-card>
      <c-illustration
        heading="There's nothing here"
        message-body="There are no records to display here at the moment. Try accessing this page from an Account or Outlet."
        image-name="custom:fishing_deals"
        image-size="large"
      ></c-illustration>
      <template if:true={isLoading}>
        <lightning-spinner alternative-text="Loading" variant="brand" size="large"></lightning-spinner>
      </template>
    </lightning-card>
  </template>
</template>
